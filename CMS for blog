<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Simple CMS Blog - Single HTML</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f4f4f4;
}
header {
  background: #222;
  color: #fff;
  padding: 15px;
  text-align: center;
}
.container {
  display: flex;
}
.sidebar {
  width: 25%;
  background: #fff;
  padding: 15px;
  border-right: 1px solid #ccc;
}
.editor {
  width: 75%;
  padding: 20px;
}
.block {
  padding: 10px;
  margin: 10px 0;
  background: #eee;
  cursor: grab;
}
#canvas {
  min-height: 300px;
  border: 2px dashed #aaa;
  padding: 15px;
  background: #fff;
}
button {
  padding: 10px 15px;
  margin-top: 10px;
  cursor: pointer;
}
img {
  max-width: 100%;
}
</style>
</head>
<body>

<header>
  <h2>Content Management System (Single HTML)</h2>
</header>

<div class="container">
  <div class="sidebar">
    <h3>Drag Components</h3>

    <div class="block" draggable="true" data-type="text">Text Block</div>
    <div class="block" draggable="true" data-type="image">Image Block</div>

    <button onclick="publish()">Publish Blog</button>
  </div>

  <div class="editor">
    <h3>Design Area</h3>
    <div id="canvas"></div>

    <h3>Published Output</h3>
    <div id="output"></div>
  </div>
</div>

<script>
const blocks = document.querySelectorAll('.block');
const canvas = document.getElementById('canvas');

blocks.forEach(block => {
  block.addEventListener('dragstart', e => {
    e.dataTransfer.setData('type', block.dataset.type);
  });
});

canvas.addEventListener('dragover', e => e.preventDefault());

canvas.addEventListener('drop', e => {
  e.preventDefault();
  const type = e.dataTransfer.getData('type');

  if (type === 'text') {
    const div = document.createElement('div');
    div.contentEditable = true;
    div.style.border = "1px solid #ccc";
    div.style.padding = "10px";
    div.innerText = "Edit text here...";
    canvas.appendChild(div);
  }

  if (type === 'image') {
    const input = document.createElement('input');
    input.type = "file";
    input.onchange = function () {
      const img = document.createElement('img');
      img.src = URL.createObjectURL(input.files[0]);
      canvas.appendChild(img);
    };
    canvas.appendChild(input);
  }
});

function publish() {
  localStorage.setItem("blog", canvas.innerHTML);
  document.getElementById("output").innerHTML = localStorage.getItem("blog");
}
</script>

</body>
</html>
